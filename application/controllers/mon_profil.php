<?phpclass Mon_profil extends CI_Controller {        public function __construct(){        parent::__construct();        $this->load->model('M_Mon_profil');    }	    public function index(){        $user_id = $this->session->userdata('logged_in')->user_id;        if($user_id){            $dataList['info_membre'] = $this->M_Mon_profil->getIdMembre($user_id);            $this->session->set_userdata('logged_in',$dataList['info_membre']);            $dataList['page'] = 'Accueil';            $dataList['titre'] = 'Mon profil';            var_dump($dataList['info_membre']);            $data['vue'] = $this->load->view('mon_profil',$dataList,true);            $this->load->view('layout',$data);        }        else{            redirect('accueil');                  }    }    public function modifier(){        $this->load->helper('date');        $user_data = $this->session->userdata('logged_in');        $data['username'] = $this->input->post('username');        $data['nom'] = $this->input->post('nom');        if($this->input->post('naissance')){                $data['naissance'] = date('Y-m-d',strtotime($this->input->post('naissance')));        }        else{                $data['naissance'] = 0;        }        $data['fumeur'] = $this->input->post('fumeur');        $data['bagage'] = $this->input->post('bagage');        $data['musique'] = $this->input->post('musique');        $data['discussion'] = $this->input->post('discussion');        $data['vehicule'] = $this->input->post('vehicule');        $data['immatriculation'] = $this->input->post('immatriculation');        $data['couleur'] = $this->input->post('colorPicker');        $data['confort'] = $this->input->post('confort');        $this->M_Mon_profil->modifier($data,$user_data->user_id);        redirect('mon_profil');    }    public function upload(){        $user_data = $this->session->userdata('logged_in');        $titre = time().rand(1000,9999);        $config['upload_path'] = './web/images/membre';        $config['allowed_types'] = 'gif|jpg|png';        $config['max_size']	= '100';        $config['max_width']  = '1024';        $config['max_height']  = '768';        $config['file_name'] = $titre.'.jpg';        $this->load->library('upload', $config);        $this->load->library('image_lib');        if ( ! $this->upload->do_upload('photo')){            $error = array('error' => $this->upload->display_errors());            var_dump($error);        }        else{            var_dump($user_data);            $filedata = $this->upload->data();            $data['photo'] = 'web/images/membre/'.$filedata['file_name'];            $this->M_Mon_profil->modifier($data,$user_data->user_id);            $path_to_file = './'.$user_data->photo;            if(unlink($path_to_file)) {                 echo 'deleted successfully';                 redirect('mon_profil');            }            else {                 echo 'errors occured';            }        }    }}